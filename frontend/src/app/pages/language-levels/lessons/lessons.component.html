<!-- lesson.component.html -->
<div class="lesson-container" *ngIf="level">
  <h1 class="level-title">Level {{ levelKey }}</h1>
  <div *ngFor="let lesson of lessons | keyvalue" class="lesson-card">
    <h2>{{ lesson.value.title }}</h2>
    <p class="intro">{{ lesson.value.intro }}</p>

    <section>
      <h3>Vocabulary</h3>
      <ul>
        <li *ngFor="let word of lesson.value.vocab">
          <strong>{{ word.ko }}</strong> - {{ word.en }}
        </li>
      </ul>
    </section>

    <section>
      <h3>Grammar</h3>
      <ul>
        <li *ngFor="let grammar of lesson.value.grammar">
          <strong>{{ grammar.title }}</strong>: {{ grammar.info }}
        </li>
      </ul>
    </section>

    <section>
      <h3>Examples</h3>
      <ul>
        <li *ngFor="let ex of lesson.value.examples">{{ ex }}</li>
      </ul>
    </section>

    <section class="test-section">
      <h3>Test</h3>
      <p>{{ lesson.value.test }}</p>
    </section>

    <div class="media">
      <iframe width="100%" height="250" [src]="getSafeUrl(lesson.value.video)" frameborder="0" allowfullscreen></iframe>
      <img [src]="lesson.value.image" alt="Lesson Image" class="lesson-image" />
    </div>
  </div>
</div>
